(this["webpackJsonprequest-api-practice-react"]=this["webpackJsonprequest-api-practice-react"]||[]).push([[0],{153:function(t,e,a){"use strict";a.r(e);var s=a(0),n=a(2),r=a.n(n),c=a(42),i=a.n(c),h=(a(53),a(26),a(25)),j=a(14),o=a(1),d=a(43),b=a(44),l=a(47),u=a(46),m=a(45),O=function(t,e){var a=[];return fetch("https://data.nasa.gov/resource/gh4g-9sfh.json?$select=name,id,mass,year,recclass%20where%20year%20between%20%27".concat(t,"-01-01T00:00:00.000%27%20and%20%27").concat(e,"-01-01T00:00:00.000%27")).then((function(t){return a.push(t.json()),a})).then((function(t){return Promise.all(t)}))},f=function(t){for(var e=[0,0,0,0,0,0,0,0,0,0],a=0;a<t.length;a++)t[a].mass<=50?e[0]++:t[a].mass<=100&&t[a].mass>50?e[1]++:t[a].mass<=200&&t[a].mass>100?e[2]++:t[a].mass<=300&&t[a].mass>200?e[3]++:t[a].mass<=400&&t[a].mass>300?e[4]++:t[a].mass<=700&&t[a].mass>400?e[5]++:t[a].mass<=1e3&&t[a].mass>700?e[6]++:t[a].mass<=1e4&&t[a].mass>1e3?e[7]++:t[a].mass<1e5&&t[a].mass>1e4?e[8]++:t[a].mass>=1e5&&e[9]++;return e},x=function(t){var e=t.start,a=t.finish;return Object(s.jsx)("header",{children:Object(s.jsx)("h1",{children:"Fallen Meteorites Data from ".concat(e," to ").concat(a)})})},g=function(){return Object(s.jsxs)("section",{children:[Object(s.jsx)("img",{className:"nyan",src:"https://newscrewdriver.files.wordpress.com/2018/10/poptartcat320240.gif?w=320&zoom=2",alt:"nyan cat"}),Object(s.jsx)("p",{children:"Loading"})]})},p=function(t){var e=t.handleSubmit,a=t.handleChange,n=t.state;return Object(s.jsxs)("form",{onSubmit:e,children:[Object(s.jsxs)("label",{children:["From",Object(s.jsx)("input",{type:"number",minLength:"0",maxLength:"2020",value:n.years.start,name:"start",onChange:a})]}),Object(s.jsxs)("label",{children:["Until",Object(s.jsx)("input",{type:"number",minLength:"0",maxLength:"2020",value:n.years.finish,name:"finish",onChange:a})]}),Object(s.jsx)("button",{children:"Submit"})]})},y=function(t){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:t.meteorOne.name}),Object(s.jsx)("td",{children:t.meteorOne.id}),Object(s.jsx)("td",{children:t.meteorOne.mass}),Object(s.jsx)("td",{children:t.meteorOne.recclass}),Object(s.jsx)("td",{children:t.meteorOne.year.slice(0,4)})]})},v=function(t){var e=t.meteors;return Object(s.jsxs)("table",{children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{className:"headers",children:[Object(s.jsx)("th",{children:"name"}),Object(s.jsx)("th",{children:"id"}),Object(s.jsx)("th",{children:"mass"}),Object(s.jsx)("th",{children:"recclass"}),Object(s.jsx)("th",{children:"year"})]})}),Object(s.jsx)("tbody",{children:e.map((function(t){return Object(s.jsx)(y,{meteorOne:t},t.id)}))})]})},S=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(d.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).state={meteors:[],isLoading:!0,data:{labels:["0-50","50-100","100-200","200-300","300-400","400-700","700-1000","1k-10k","10k-100k","100K+"],datasets:[{label:"Mass of meteors in grams",backgroundColor:"rgba(255,99,132,0.5)",data:[]}]},years:{start:2012,finish:2013},titleYears:{start:2012,finish:2013},changedYears:!1},t.handleChange=function(e){t.setState((function(t){return{years:Object(o.a)(Object(o.a)({},t.years),{},Object(j.a)({},e.target.name,e.target.value))}}))},t.handleSubmit=function(e){e.preventDefault(),t.setState((function(t){return{changedYears:!0,titleYears:{start:t.years.start,finish:t.years.finish}}}))},t}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var t=this;O("2012","2013").then((function(e){var a=Object(h.a)(e,1)[0];t.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{meteors:a,isLoading:!1,data:Object(o.a)(Object(o.a)({},t.data),{},{datasets:[Object(o.a)(Object(o.a)({},t.data.datasets[0]),{},{data:f(a)})]})})}))}))}},{key:"componentDidUpdate",value:function(){var t=this;this.state.changedYears&&O(this.state.years.start,this.state.years.finish).then((function(e){var a=Object(h.a)(e,1)[0];t.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{meteors:a,isLoading:!1,data:Object(o.a)(Object(o.a)({},t.data),{},{datasets:[Object(o.a)(Object(o.a)({},t.data.datasets[0]),{},{data:f(a)})]}),changedYears:!1})}))}))}},{key:"render",value:function(){return this.state.isLoading?Object(s.jsx)(g,{}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(x,{start:this.state.titleYears.start,finish:this.state.titleYears.finish}),Object(s.jsx)("p",{children:"Choose years to display"}),Object(s.jsx)(p,{handleSubmit:this.handleSubmit,handleChange:this.handleChange,state:this.state}),Object(s.jsx)(m.Bar,{data:this.state.data,width:50,height:16,options:{maintainAspectRatio:!0}}),Object(s.jsx)(v,{meteors:this.state.meteors})]})}}]),a}(r.a.Component);var k=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(S,{})})};i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(k,{})}),document.getElementById("root"))},26:function(t,e,a){},53:function(t,e,a){}},[[153,1,2]]]);
//# sourceMappingURL=main.affc75df.chunk.js.map